:root{
  --bg1:#0e1226;
  --bg2:#0b0f22;

  --accent1: #ff6b8a; /* pink */
  --accent2: #9b6cff; /* bright purple */
  --accent3: #d96bff; /* magenta */
  --accent4: #7be0c7; /* mint */
  --accent5: #ffd36b; /* warm highlight */

  --glass: rgba(255,255,255,0.06);
  --glass-2: rgba(255,255,255,0.04);
  --card-gradient: linear-gradient(135deg, rgba(217,107,255,0.10), rgba(155,108,255,0.06));
  --glass-border: rgba(255,255,255,0.06);
  --glass-shadow: 0 8px 30px rgba(9,10,25,0.7);
  --glass-radius: 14px;
  --text: #EAF0FF;
  --muted: rgba(230,238,248,0.62);

  --drawer-width: 20vw;
  --drawer-transition: 320ms cubic-bezier(.2,.9,.25,1);

  --scroll-track: rgba(255,255,255,0.02);
  --scroll-thumb: linear-gradient(180deg, rgba(155,108,255,0.36), rgba(217,107,255,0.18));
}

/* ============================================================
   Base layout and color updates
   ============================================================ */
html, body {
  background:
    radial-gradient(1000px 500px at 8% 18%, rgba(155,108,255,0.06), transparent),
    radial-gradient(800px 400px at 90% 80%, rgba(217,107,255,0.025), transparent),
    linear-gradient(180deg, var(--bg1), var(--bg2));
  color: var(--text);
  margin: 0;
  padding: 0;
  min-height: 100vh;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  box-sizing: border-box;
}

/* ============================================================
   Drawer & handle (floating + neon inspiration)
   ============================================================ */
.pantry-open-handle{
  position: fixed;
  right: 14px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 170;
  width:48px;
  height:48px;
  border-radius:12px;
  background: linear-gradient(180deg, rgba(155,108,255,0.22), rgba(255,107,171,0.10));
  border: 1px solid rgba(155,108,255,0.14);
  box-shadow: 0 10px 30px rgba(16,12,40,0.6), 0 0 18px rgba(155,108,255,0.05) inset;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  font-size:20px;
  transition: transform .14s cubic-bezier(.2,.9,.25,1), box-shadow .14s ease, opacity .12s ease;
  color: #fff;
  /* subtle floating motion */
  animation: float-handle 5s ease-in-out infinite;
}
.pantry-open-handle:hover{
  transform: translateY(-50%) scale(1.08) rotate(-6deg);
  box-shadow: 0 22px 54px rgba(16,12,40,0.75), 0 0 36px rgba(155,108,255,0.12) inset;
}
.pantry-open-handle.hidden{
  opacity: 0;
  pointer-events: none;
  transform: translateY(-50%) scale(.96);
}

/* tiny continuous float */
@keyframes float-handle {
  0% { transform: translateY(-52%) rotate(0deg); }
  50% { transform: translateY(-48%) rotate(3deg); }
  100% { transform: translateY(-52%) rotate(0deg); }
}

/* overlay */
.pantry-overlay{
  position: fixed;
  inset: 0;
  background: rgba(2,6,23,0);
  transition: background 220ms ease;
  z-index: 150;
  pointer-events: none;
}
.pantry-overlay.visible{
  background: linear-gradient(180deg, rgba(3,6,18,0.58), rgba(3,6,18,0.48));
  pointer-events: auto;
}

/* drawer */
.pantry-drawer{
  position: fixed;
  top: 0;
  right: 0;
  height: 100vh;
  width: var(--drawer-width);
  max-width: 520px;
  min-width: 280px;
  transform: translateX(110%);
  transition: transform var(--drawer-transition), box-shadow 240ms ease;
  z-index: 160;
  display:flex;
  flex-direction:column;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00)), var(--card-gradient);
  border-left: 1px solid rgba(155,108,255,0.06);
  box-shadow: -18px 0 64px rgba(8,8,20,0.72);
  padding: 18px;
  overflow:auto;
  -webkit-overflow-scrolling: touch;
  backdrop-filter: blur(10px) saturate(1.05);
}
.pantry-drawer.open{ transform: translateX(0); }

/* scrollbar cosmetic */
.pantry-drawer::-webkit-scrollbar { width:12px; }
.pantry-drawer::-webkit-scrollbar-track { background: var(--scroll-track); border-radius:12px; }
.pantry-drawer::-webkit-scrollbar-thumb {
  background: var(--scroll-thumb);
  border-radius:12px;
  border: 3px solid rgba(255,255,255,0.01);
  box-shadow: inset 0 0 0 1px rgba(2,6,23,0.2);
}
.pantry-drawer { scrollbar-width: thin; scrollbar-color: rgba(155,108,255,0.36) rgba(255,255,255,0.02); }

/* body pushed when drawer open */
body.pantry-drawer-open{ transition: margin-right var(--drawer-transition); margin-right: var(--drawer-width); }

/* header */
.pantry-drawer-header{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:10px; }
.drawer-title{ margin:0; font-size:16px; color:var(--text); opacity:0.96; letter-spacing:0.2px; }
.drawer-close{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.03);
  color:var(--muted);
  padding:6px 8px;
  border-radius:8px;
  cursor:pointer;
  transition: transform .08s ease, box-shadow .12s ease;
}
.drawer-close:hover{ transform: translateY(-2px); color:var(--text); box-shadow: 0 8px 20px rgba(16,12,40,0.28); }

/* content layout */
.pantry-drawer-content{ display:flex; flex-direction:column; gap:12px; position:relative; }

/* subtle decorative blobs (from user inspiration) */
.drawer-blob {
  position: absolute;
  border-radius: 50%;
  filter: blur(28px);
  opacity: 0.06;
  pointer-events: none;
  transform: scale(1);
  animation: blob-float 10s ease-in-out infinite;
  z-index: 40;
}
.blob-1 { width: 360px; height: 180px; right: -120px; top: 40%; background: radial-gradient(circle at 30% 30%, rgba(217,107,255,0.36), rgba(155,108,255,0.18)); animation-delay: 0s; }
.blob-2 { width: 260px; height: 140px; right: -60px; top: 10%; background: radial-gradient(circle at 50% 50%, rgba(255,107,171,0.26), rgba(155,108,255,0.12)); animation-delay: 3s; }
@keyframes blob-float {
  0% { transform: translateY(0) scale(0.98); opacity:0.06; }
  50% { transform: translateY(-18px) scale(1.04); opacity:0.08; }
  100% { transform: translateY(0) scale(0.98); opacity:0.06; }
}

/* ============================================================
   Search area
   ============================================================ */
.pantry-input{ position:relative; }
.search-wrap{
  display:flex; align-items:center; gap:10px; padding:8px; border-radius:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
  border:1px solid rgba(255,255,255,0.03);
  box-shadow: 0 8px 22px rgba(8,8,20,0.28);
}
.search-icon{ margin-left:10px; color:var(--muted); font-size:16px; }
.pantry-input input{
  width:100%;
  background:transparent;
  border:none;
  color:var(--text);
  padding:12px 44px 12px 40px;
  border-radius:8px;
  outline:none;
  text-align:right;
  direction:rtl;
  font-size:15px;
  word-break: keep-all;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* clear button (simple restored look) */
.clear-btn{
  position:absolute;
  right:8px;
  top:8px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:auto;
  height:36px;
  padding:6px 10px;
  border-radius:8px;
  background: transparent;
  color: var(--muted);
  border: none;
  box-shadow: none;
  cursor: pointer;
  font-size:15px;
  transition: color .12s ease, transform .06s ease, background .08s ease;
  z-index:6;
}
.clear-btn:hover{ color: var(--text); background: rgba(255,255,255,0.02); transform: translateY(-2px); }
.clear-btn:active{ transform: translateY(0); }
.clear-btn > * { pointer-events: none; }

/* ============================================================
   Suggestions dropdown (centered + enhanced, with stagger)
   ============================================================ */
.pantry-suggestions.centered.enhanced{
  position:relative;
  margin-top:8px;
  max-height:240px;
  overflow:auto;
  border-radius:12px;
  background: linear-gradient(180deg, rgba(12,16,32,0.98), rgba(10,16,30,0.96));
  border:1px solid rgba(155,108,255,0.08);
  padding:6px;
  box-shadow: 0 20px 60px rgba(8,8,20,0.75);
  left:50%;
  transform: translateX(-50%);
  width: calc(var(--drawer-width) - 32px);
  max-width: 420px;
  transition: transform .14s ease, opacity .14s ease;
}
.pantry-suggestions.centered.enhanced li{
  cursor:pointer;
  padding:12px 14px;
  border-radius:10px;
  transition: background .12s ease, transform .08s ease;
  display:flex; align-items:center; gap:10px; color:var(--text);
  background: transparent;
  transform-origin:left center;
  animation: suggestion-pop .28s cubic-bezier(.2,.9,.2,1) both;
  word-break: keep-all; /* מניעת קריעת מילים בהצעות */
  white-space: nowrap;
}
.pantry-suggestions.centered.enhanced li:nth-child(1){ animation-delay: 0ms; }
.pantry-suggestions.centered.enhanced li:nth-child(2){ animation-delay: 30ms; }
.pantry-suggestions.centered.enhanced li:nth-child(3){ animation-delay: 60ms; }
.pantry-suggestions.centered.enhanced li:nth-child(4){ animation-delay: 90ms; }
.pantry-suggestions.centered.enhanced li:nth-child(5){ animation-delay: 120ms; }
@keyframes suggestion-pop { from { opacity:0; transform: translateY(8px) scale(.995); } to { opacity:1; transform: translateY(0) scale(1); } }
.pantry-suggestions.centered.enhanced li:hover{
  background: linear-gradient(90deg, rgba(155,108,255,0.12), rgba(255,107,171,0.06));
  transform: translateY(-6px) rotate(-0.4deg);
}
/* selected suggestion */
.pantry-suggestions.centered.enhanced li.selected{
  background: linear-gradient(90deg, rgba(155,108,255,0.16), rgba(217,107,255,0.08));
  box-shadow: 0 8px 20px rgba(155,108,255,0.06) inset;
  transform: translateY(-2px);
}

/* ============================================================
   Items list + item visuals & animations
   ============================================================ */
.pantry-list{ display:flex; flex-direction:column; gap:12px; padding:0; margin:4px 0 24px 0; list-style:none; }
.pantry-item-block{ display:block; }

/* animated entrance for items */
.pantry-item.enter{
  animation: item-entrance 360ms cubic-bezier(.2,.9,.2,1);
  position:relative;
  overflow:visible;
}
@keyframes item-entrance{
  0% { opacity:0; transform: translateY(10px) scale(.995); filter: blur(4px) hue-rotate(-10deg); }
  60% { opacity:1; transform: translateY(-4px) scale(1.02) rotate(-0.6deg); filter: blur(0) hue-rotate(6deg); }
  100% { transform: translateY(0) scale(1); filter: none; }
}

/* confetti bursts on enter (CSS-only subtle) */
.pantry-item.enter::before,
.pantry-item.enter::after{
  content:"";
  position:absolute;
  width:8px;
  height:8px;
  border-radius:2px;
  opacity:0;
  top:12%;
  right:10%;
}
.pantry-item.enter::before{ background: var(--accent3); animation: confetti-1 .7s ease-out forwards; }
.pantry-item.enter::after{ background: var(--accent1); animation: confetti-2 .78s ease-out forwards; }
@keyframes confetti-1 {
  0% { opacity:0; transform: translate(0,0) rotate(0) scale(.6); }
  30% { opacity:1; transform: translate(24px,-34px) rotate(120deg) scale(1); }
  100% { opacity:0; transform: translate(46px,-80px) rotate(200deg) scale(.8); }
}
@keyframes confetti-2 {
  0% { opacity:0; transform: translate(0,0) rotate(0) scale(.6); }
  30% { opacity:1; transform: translate(18px,-22px) rotate(-60deg) scale(1); }
  100% { opacity:0; transform: translate(36px,-64px) rotate(-140deg) scale(.8); }
}

/* item */
.pantry-item{
  display:flex; align-items:center; gap:12px; padding:12px; border-radius:12px;
  background: linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
  border: 1px solid rgba(255,255,255,0.03);
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
  position:relative;
  cursor: pointer; /* הוספת סמן יד */
}
.pantry-item:hover{
  transform: translateY(-4px);
  box-shadow: 0 18px 48px rgba(12,8,32,0.36);
  background: linear-gradient(90deg, rgba(155,108,255,0.02), rgba(255,107,171,0.01));
}

/* subtle moving gradient overlay for each item (sheen) */
.pantry-item::after{
  content: "";
  position:absolute;
  pointer-events:none;
  left:0; right:0; top:0; height:100%; border-radius:12px;
  background: linear-gradient(90deg, rgba(255,255,255,0.00), rgba(255,255,255,0.02), rgba(255,255,255,0.00));
  mix-blend-mode: overlay; opacity:0; transform: translateX(-30%);
  transition: opacity .22s ease, transform .42s ease;
}
.pantry-item:hover::after{ opacity:.6; transform: translateX(30%); }

/* image/name/qty */
.item-img{ width:44px; height:44px; border-radius:10px; object-fit:cover; background: rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.03); flex-shrink:0; }
.item-name{ flex:1; text-align:right; direction:rtl; font-weight:600; color:var(--text); }
.item-qty{
  min-width:36px; height:36px; display:inline-flex; align-items:center; justify-content:center; border-radius:999px;
  color:var(--accent2);
  background: linear-gradient(90deg, rgba(155,108,255,0.12), rgba(217,107,255,0.06));
  font-weight:700; padding:0 10px; box-shadow: inset 0 -2px 8px rgba(6,8,20,0.12); transition: transform .12s ease;
}
.item-qty.pulse{ animation: qty-pulse 2.4s infinite ease-in-out 0.35s; }
@keyframes qty-pulse { 0%{ transform:scale(1);}50%{ transform:scale(1.03);}100%{ transform:scale(1);} }

/* ============================================================
   Inline controls (animated + spark/ripple)
   ============================================================ */
.inline-controls{
  display:inline-flex;
  align-items:center;
  gap:10px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  padding:6px;
  border-radius:10px;
  border:1px solid rgba(155,108,255,0.06);
  transition: box-shadow .12s ease, transform .12s ease;
}
.inline-controls:hover{
  box-shadow: 0 12px 30px rgba(155,108,255,0.06);
  transform: translateY(-2px);
}

/* fancy animated plus/minus buttons */
.qty-inline-btn{
  min-width:38px;
  height:38px;
  border-radius:9px;
  border:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-size:16px;
  cursor:pointer;
  background: linear-gradient(90deg, rgba(155,108,255,0.28), rgba(217,107,255,0.14));
  color:#fff;
  box-shadow: 0 8px 20px rgba(155,108,255,0.06);
  transition: transform .08s ease, box-shadow .12s ease;
  position:relative;
  overflow: visible;
}
/* spark on click - pseudo element */
.qty-inline-btn::after{
  content: "";
  position: absolute;
  inset: 10px;
  border-radius: 8px;
  opacity: 0;
  transform: scale(.6);
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.45), rgba(155,108,255,0.12), transparent 40%);
  transition: opacity .18s ease, transform .28s ease;
  pointer-events:none;
}
.qty-inline-btn:active::after{
  opacity: 1;
  transform: scale(1.4);
  transition: opacity .12s ease, transform .24s ease;
}
.qty-inline-btn.minus{ background: linear-gradient(180deg, rgba(255,107,171,0.24), rgba(255,92,92,0.10)); }
.qty-inline-btn:active{ transform: translateY(1px) scale(.98); box-shadow: 0 6px 18px rgba(155,108,255,0.06) inset; }

/* flip animation for qty changes */
.qty-flip {
  display: inline-block;
  transform-origin: center;
  animation: qty-flip 420ms cubic-bezier(.22,.9,.3,1);
}
@keyframes qty-flip {
  0% { transform: rotateX(0deg) scale(1); opacity:1; }
  40% { transform: rotateX(90deg) scale(.95); opacity:.6; }
  100% { transform: rotateX(0deg) scale(1); opacity:1; }
}

/* ============================================================
   Controls pill (fallback/centered layout)
   ============================================================ */
.pantry-item-controls-row{ margin:6px 0 0 0; display:flex; justify-content:center; width:100%; padding:6px 10px; }
.controls-inner{
  display:flex; gap:8px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  padding:8px; border-radius:999px; border:1px solid rgba(255,255,255,0.03); box-shadow: 0 8px 22px rgba(8,8,20,0.18);
  align-items:center; justify-content:center;
}
.controls-inner .qty-btn, .controls-inner .remove-full{
  min-width:44px; height:44px; border-radius:10px; border:none; cursor:pointer; padding:0 14px; display:inline-flex; align-items:center; justify-content:center; font-size:16px; transition: transform .08s ease, box-shadow .12s ease, background .12s ease;
}
.controls-inner .qty-btn.minus{ background: linear-gradient(180deg, rgba(255,107,171,0.20), rgba(255,92,92,0.08)); color:#fff; border:1px solid rgba(255,107,171,0.12); }
.controls-inner .qty-btn.plus{ background: linear-gradient(90deg, rgba(155,108,255,0.30), rgba(217,107,255,0.14)); color:#fff; border:1px solid rgba(155,108,255,0.14); }
.controls-inner .remove-full{ background: transparent; color:var(--muted); border:1px solid rgba(255,255,255,0.03); }
.controls-inner .qty-btn:hover, .controls-inner .remove-full:hover{ transform: translateY(-3px); }

/* ============================================================
   Confetti & remove animations (inspired by user CSS)
   ============================================================ */
/* confetti helper (JS can insert .confetti with several <span> children) */
.confetti {
  position: absolute;
  pointer-events: none;
  inset: 0;
  overflow: visible;
  z-index: 9999;
}
.confetti span {
  position: absolute;
  width: 8px;
  height: 14px;
  border-radius: 2px;
  opacity: 0.95;
  transform-origin: center;
  animation: confetti-fall 900ms cubic-bezier(.2,.8,.25,1) forwards;
  box-shadow: 0 2px 6px rgba(0,0,0,0.18);
}
@keyframes confetti-fall {
  0% { transform: translateY(-10px) rotate(0deg) scale(1); opacity:1; }
  70% { opacity:1; transform: translateY(40px) rotate(200deg) scale(.95); }
  100% { transform: translateY(120px) rotate(360deg) scale(.9); opacity:0; }
}

/* remove explode */
.remove-explode {
  animation: remove-explode 300ms ease forwards;
}
@keyframes remove-explode {
  0% { transform: scale(1); opacity: 1; filter: none; }
  50% { transform: scale(1.06) rotate(-2deg); filter: blur(0.5px) saturate(1.2); opacity: 0.9; }
  100% { transform: scale(0.86) rotate(-8deg); opacity: 0; filter: blur(6px); }
}

/* ============================================================
   Small accessibility & focus styles
   ============================================================ */
.pantry-open-handle:focus, .qty-inline-btn:focus, .clear-btn:focus, .drawer-close:focus {
  outline: 3px solid rgba(155,108,255,0.18);
  outline-offset: 3px;
}

/* ============================================================
   Responsive
   ============================================================ */
@media (max-width:900px){
  :root{ --drawer-width: 100vw; }
  .pantry-drawer{ width: 100vw; max-width:100vw; min-width:0; right:0; }
  body.pantry-drawer-open{ margin-right:0; }
  .pantry-open-handle{ right:8px; top:14px; transform:none; width:40px; height:40px; font-size:18px; }
  .pantry-suggestions.centered.enhanced{ width: calc(100vw - 48px); left:50%; transform: translateX(-50%); max-width: calc(100vw - 48px); }
  .controls-inner{ width:100%; justify-content:center; }
  .inline-controls{ gap:8px; }
  .qty-inline-btn{ min-width:36px; height:36px; }
}

/* utilities */
.no-frame { box-shadow: none !important; outline: none !important; border: none !important; }
.item-top-row {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  width: 100%;
}

.item-controls-row {
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 0.5rem;
  padding-top: 0.5rem;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.pantry-item.expanded {
  flex-direction: column;
  align-items: stretch;
}

/* עדכן את הכפתורים להיות קטנים יותר עם הצבעים המקוריים */
.qty-btn, .remove-full {
  padding: 0.3rem 0.6rem;
  border-radius: 0.3rem;
  font-size: 0.9rem;
  min-width: 2rem;
  cursor: pointer;
  transition: transform .08s ease, box-shadow .12s ease, background .12s ease;
}

.qty-btn.minus {
  background: linear-gradient(180deg, rgba(255,107,171,0.20), rgba(255,92,92,0.08));
  border: 1px solid rgba(255,107,171,0.12);
  color: #fff;
}

.qty-btn.plus {
  background: linear-gradient(90deg, rgba(155,108,255,0.30), rgba(217,107,255,0.14));
  border: 1px solid rgba(155,108,255,0.14);
  color: #fff;
}

.remove-full {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.03);
  color: var(--muted);
}

.qty-btn:hover, .remove-full:hover {
  transform: translateY(-3px);
}